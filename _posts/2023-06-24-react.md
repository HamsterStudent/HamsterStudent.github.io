---
layout: post
title: "[ë¼ë²¨ìŠ¤í‹°ì»¤ í”„ë¦°í„°] 2. sessionStorage"
date: 2023-06-24
last_modified_at: 2023-06-24
categories: [React]
---

# ê°œìš”

ë¼ë²¨ìŠ¤í‹°ì»¤ íŠ¹ì„±ìƒ ì‘ì„±í•´ì•¼í•  ë¬¸ìì—´ì´ ë§ê¸°ì—, í”¼ì¹˜ëª»í•˜ê²Œ ìƒˆë¡œê³ ì¹¨ ë˜ëŠ” ìƒí™©ì—ì„œ ë¬¸ìì—´ë“¤ì´ ì„¸ì…˜ì— ì €ì¥ë  ìˆ˜ ìˆë„ë¡ ë§Œë“¤ì—ˆë‹¤.

ìŠ¤í‹°ì»¤ë¥¼ ë§Œë“¤ ë•Œ, í•œë²ˆì— ë§Œë“¤ ê²ƒì´ë¼ê³  ì§ì‘í•˜ê³ , ë¡œì»¬ì´ ì•„ë‹Œ ì„¸ì…˜ì— ë§Œë“œëŠ” ê²ƒìœ¼ë¡œ ê²°ì •í–ˆë‹¤.

# ê°’ ì„¸ì…˜ì— ì €ì¥ & ë¶ˆëŸ¬ì˜¤ê¸°

```tsx
const onSubmit = (e: React.FormEvent<HTMLFormElement>) => {
  e.preventDefault();
  window.sessionStorage.setItem("inputValue", JSON.stringify(inputValue));
};
```

onSubmitë²„íŠ¼ì„ ë§Œë“¤ê³ , ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì„¸ì…˜ì´ ì €ì¥ë  ìˆ˜ ìˆê²Œ ë§Œë“¤ì—ˆë‹¤.

```tsx
const [inputValue, setInputValue] = useState(
  JSON.parse(sessionStorage.getItem("inputValue") || "{}"),
);

useEffect(() => {
  window.sessionStorage.setItem("inputValue", JSON.stringify(inputValue));
}, [inputValue]);
```

valueì˜ ì´ˆê¸°ê°’ì„ ì„¸ì…˜ì˜ ì €ì¥ëœ ê°’ì´ê±°ë‚˜, ë¹ˆ ê°ì²´ë¥¼ ë°˜í™˜í•˜ë„ë¡ ë§Œë“¤ê³ ,

useEffectë¥¼ ì‚¬ìš©í•´ inputValueê°€ ë³€ê²½ë ë•Œë§ˆë‹¤ ì„¸ì…˜ì— ëª©ë¡ì´ ë‹¤ì‹œ ì €ì¥ë˜ë„ë¡ ë§Œë“¤ì—ˆë‹¤.

# JSX

```tsx
<input type="text" name={name} value={inputValue[`${name}`]} />
```

inputì˜ valueì—ì„œ ê°’ì„ ë¶ˆëŸ¬ì˜¨ë‹¤

# ì°¸ì¡°

```tsx
const onchange = (e: React.FormEvent<HTMLFormElement>) => {
  const { name, value } = e.target as HTMLInputElement;
  setInputValue({ ...inputValue, [name]: value });
};
```

onChangeì´ë²¤íŠ¸ì—ì„œ ê°’ì„ ì €ì¥í•  ë•Œ { key : ê°’ }ì˜ í˜•íƒœë¡œ ì €ì¥í–ˆê¸° ë•Œë¬¸ì—, ë¶ˆëŸ¬ì˜¬ ë•Œì—ëŠ” í•´ë‹¹ í‚¤ë¥¼ ì…ë ¥í•˜ê¸°ë§Œ í•˜ë©´ ê°’ì„ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ìˆë‹¤.

# ERROR

<aside>
ğŸ“Œ Warning: You provided a value prop to a form field without an onChange handler. This will render a read-only field. If the field should be mutable use defaultValue. Otherwise, set either onChange or readOnly.

</aside>

<br>

input íƒœê·¸ ì‚¬ìš©ì‹œ valueì†ì„±ì´ ê³ ì •ê°’ì´ ì•„ë‹ˆë¼ ë‚˜ëŠ” ì—ëŸ¬. ë‚˜ì˜ ê²½ìš°ì—” sessionStorageê°€ ë¹„ì›Œì§€ì ë‚˜ì˜´

### í•´ê²°ì±…

```tsx
<input type="text" name={name} value={inputValue[`${name}`]} />
```

```tsx
<input type="text" name={name} defaultValue={inputValue[`${name}`]} />
```

ì—ëŸ¬ì—ì„œ ì–¸ê¸‰í•˜ëŠ”ë°ë¡œ, valueë¥¼ defaultValueë¡œ ë³€ê²½í•˜ë©´ ëœë‹¤.
